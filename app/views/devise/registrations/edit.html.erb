<div class="row">
<div class="span4 offset4">
<h2>Editar cuenta</h2>

<%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :multipart => true }) do |f| %>
  <%= devise_error_messages! %>

  <div><%= f.label :email %><br />
  <%= f.email_field :email, :autofocus => true %></div>

  <div><%= f.label 'Nombre' %><br />
    <%= f.text_field :name %> </div>

    <div><%= f.label 'Apellido' %><br />
    <%= f.text_field :lastname %> </div>

  <div><%= f.label 'Avatar' %><br />
  <div class="fileupload fileupload-new" data-provides="fileupload">
  <div class="fileupload-new thumbnail" style="width: 50px; height: 50px;"><img src="<%= resource.avatar.url %>" /></div>
  <div class="fileupload-preview fileupload-exists thumbnail" style="width: 50px; height: 50px;"></div>
  <span class="btn btn-file"><span class="fileupload-new">Seleccionar imagen</span><span class="fileupload-exists">Cambiar</span><%= f.file_field :avatar %></span>
  <a href="#" class="btn fileupload-exists" data-dismiss="fileupload">Eliminar</a>
  </div>
  </div>

  <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
    <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
  <% end %>

  <div><%= f.label 'Contraseña' %> <i>(déjala en blanco si no deseas cambiarla)</i><br />
  <%= f.password_field :password, :autocomplete => "off" %></div>

  <div><%= f.label 'Confirmar contraseña' %><br />
  <%= f.password_field :password_confirmation %></div>

  <div><%= f.label 'Contraseña actual' %> <i>(necesitamos tu contraseña actual para confirmar los cambios)</i><br />
  <%= f.password_field :current_password %></div>

  <div><%= f.submit "Actualizar",:class=>"btn btn-block btn-success"%></div>
<% end %>

<h3>Eliminar mi cuenta</h3>

<p>¿Disconforme? <%= button_to "Eliminar", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete ,:class=>"btn btn-block btn-primary" %></p>

</div>
</div>
